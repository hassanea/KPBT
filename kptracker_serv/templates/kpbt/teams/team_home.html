{% extends 'index.html' %}

{% block title %}<title>Kingpin Bowling Tracker - Teams</title>{% endblock %}

{% block page_content %}

 <div class="container-fluid">  
 <div class="row"> 
 <div class="col-md-12">
 <header>  
   <h2 class="form-head mb-3"> Teams in KPBT</h2>
 </header> 
     
     
           <div class="d-flex justify-content-center mb-3">
        <div class="searchbar">
          <input class="search_input" type="text" name="search-bw-teams" placeholder="Search teams..." id="team-search" aria-label="Search filter">
          <a href="#" class="search_icon" aria-label="Search icon"><i class="fas fa-search"></i></a>
        </div>
      </div>

<div class="table-responsive">
<table class="table table-striped table-bordered table-hover" id="teams-table">

        
    <thead class="table-danger">
        <tr class="text-center font-weight-bolder">
          <th>Team</th><th>League</th><th>Bowling Center</th>
        </tr>
    </thead>
    
    <tbody>  
    {% for team in teams %}
    <tr class="text-justify table-info font-weight-bolder">
        <td><a href="{% url 'view-center-league-team-by-name' team.league.bowling_center.name team.league.name team.name %}" class="table-txt-lnk-style"> {{ team.name }} </a></td>
        <td><a href="{% url 'view-center-league-by-name' team.league.bowling_center.name team.league.name %}" class="table-txt-lnk-style"> {{ team.league.name }}</a></td>
        <td><a href="{% url 'center-home' team.league.bowling_center.name %}" class="table-txt-lnk-style"> {{ team.league.bowling_center.name }} </a></td>
    </tr>
    {% endfor %}

    </tbody>
</table>
</div>    
</div> 
</div> 
</div>       
{% endblock %}          


<!---   


Trying to get nested regrouping working, ignore for now

{% regroup teams by league.bowling_center as teams_by_center %}
<ul>
{% for bowling_center in teams_by_center %}
<li> 
  {{ bowling_center.grouper }} 
    <ul>{% for team in teams_by_center %}
        <li> {{ team.name }} </li>
        {% endfor %}
    </ul>
    </li>
{% endfor %}
</ul>



            <td>Team Name</td> <td> League Name</td> <td> Bowling Center</td>
        </tr>
    </thead>
    <tbody>

  
        
        {% regroup teams by league as teams_by_league %}
        
      
        <tr>
            <td> {{ teams.grouper }}</td>
            </tr>
            {% for team in teams_by_league %}
                <tr> <td> {{ team.name }}</td></tr>
            
        
          
            {% endfor %}
        
        <!---
        {% regroup team by team.league.bowling_center as teams %}
        
    
        {% for team in teams %}
        <tr>
            <td> {{ team.league.bowling_center.name }} </td> 
        </tr>
        {% endfor %}
        
        {% for team in teams_by_center %}
        
            {% regroup team by team.league as teams_by_league %}
        
            {% for team.league, team in teams_by_league %}
                <tr>
                    <td> {{ team.league.name }}</td>
                </tr>
                {% for team in teams_by_league %}
                    <tr>
                        <td> {{team.name }}</td>
                    </tr>
                {% endfor %}
            {% endfor %}
        {% endfor %}
--->



